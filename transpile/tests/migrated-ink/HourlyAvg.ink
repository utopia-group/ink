(buffer: (num, num, num, num, num, num, num, num, num, num, num, num)) -> (input: (num, num, num, num, num, num, num, num, num)) -> let isFirstUpdate = buffer._7 = 0 in let newTotalBookings = buffer._0 + 1 in let newPreviousYear = ITE(isFirstUpdate, buffer._2, buffer._3) in let newCurrentYear = input._0 in let newPreviousMonth = ITE(isFirstUpdate, buffer._4, buffer._5) in let newCurrentMonth = input._1 in let newPreviousWeek = ITE(isFirstUpdate, buffer._6, buffer._7) in let newCurrentWeek = input._4 in let newPreviousDay = ITE(isFirstUpdate, buffer._8, buffer._9) in let newCurrentDay = input._3 in let newPreviousHour = ITE(isFirstUpdate, buffer._10, buffer._11) in let newCurrentHour = input._5 in let hasTimeChanged = not (newCurrentHour = newPreviousHour) || not (newCurrentDay = newPreviousDay) || not (newCurrentWeek = newPreviousWeek) || not (newCurrentMonth = newPreviousMonth) || not (newCurrentYear = newPreviousYear) in (newTotalBookings, ITE(hasTimeChanged, buffer._1 + 1, buffer._1), newPreviousYear, newCurrentYear, newPreviousMonth, newCurrentMonth, newPreviousWeek, newCurrentWeek, newPreviousDay, newCurrentDay, newPreviousHour, newCurrentHour)
(0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
