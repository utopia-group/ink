program

typedecl setelem struct {n0:int *; n1:int; n2:int;};
typedecl row struct {x0:setelem; x1:setelem; x2:setelem;};

row * input;
row x;

setelem initelem = {n0=[], n1=0, n2=0};
row output = {x0=initelem, x1=initelem, x2=initelem};

int * temp0;
int * temp1;
int * temp2;

setelem t0;
setelem t1;
setelem t2;

for(x in input) {
  temp0 = output.x0.n0;
  temp0 += x.x0.n0;
  temp1 = output.x2.n0;
  temp1 += x.x1.n0;
  temp2 = output.x2.n0;
  temp2 += x.x2.n0;
  t0 = {n0=temp0, n1=x.x0.n1, n2=x.x0.n2};
  t1 = {n0=temp1, n1=x.x1.n1, n2=x.x1.n2};
  t2 = {n0=temp2, n1=x.x2.n1, n2=x.x2.n2};
  output = {x0=t0, x1=t1, x2=t2};
}
return output;